<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yayasan Peradaban Jawi Nusantara (YPJN)</title>
    <link rel="icon" href="https://arleta.site/interactivelink/2950/Logo-YPJN-png.png" type="image/png">

<style>
        /* --- CSS Styles --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

:root {
            --primary-color: #8B4513;
            --secondary-color: #D2691E;
            --accent-color: #FFD700;
            --text-dark: #2C1810;
            --text-light: #6B4423;
            --bg-light: #FFF8F0;
            --bg-cream: #FAF0E6;
            --border-color: #DEB887;
            --success-color: #4CAF50;
            --error-color: #f44336;
        }

body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background-color: var(--bg-light);
            overflow-x: hidden;
        }

::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--bg-cream); }
        ::-webkit-scrollbar-thumb { background: var(--secondary-color); border-radius: 5px; }

header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }

.logo-container { display: flex; align-items: center; gap: 1rem; }
        .logo { width: 50px; height: 50px; transition: transform 0.3s ease; }
        .logo:hover { transform: scale(1.1); }
        .logo-text { color: white; font-size: 1.2rem; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }

.nav-menu { display: flex; list-style: none; gap: 2rem; }
        .nav-menu a { color: white; text-decoration: none; font-weight: 500; transition: all 0.3s ease; position: relative; padding: 0.5rem 0; }
        .nav-menu a::after { content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 2px; background: var(--accent-color); transition: width 0.3s ease; }
        .nav-menu a:hover::after { width: 100%; }

.hamburger { display: none; flex-direction: column; cursor: pointer; }
        .hamburger span { width: 25px; height: 3px; background: white; margin: 3px 0; transition: 0.3s; }

.auth-container { display: flex; align-items: center; gap: 1rem; }
        .user-info { display: flex; align-items: center; gap: 0.5rem; color: white; font-weight: 500; }
        .user-avatar { width: 35px; height: 35px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .btn-auth { background: rgba(255, 255, 255, 0.2); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 0.5rem 1rem; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; font-weight: 500; }
        .btn-auth:hover { background: rgba(255, 255, 255, 0.3); }

.dropdown { position: relative; }
        .dropdown-content { display: none; position: absolute; right: 0; background-color: white; min-width: 160px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); z-index: 1; border-radius: 5px; overflow: hidden; }
        .dropdown-content a { color: var(--text-dark); padding: 12px 16px; text-decoration: none; display: block; transition: background-color 0.3s; }
        .dropdown-content a:hover { background-color: var(--bg-light); }
        .dropdown:hover .dropdown-content { display: block; }

.hero { margin-top: 80px; min-height: 600px; background: linear-gradient(rgba(139, 69, 19, 0.7), rgba(210, 105, 30, 0.7)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><rect fill="%23FAF0E6" width="1200" height="600"/><path fill="%23DEB887" fill-opacity="0.1" d="M0,300 Q300,200 600,300 T1200,300 L1200,600 L0,600 Z"/></svg>'); background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }
        .hero::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M50,0 L60,40 L100,50 L60,60 L50,100 L40,60 L0,50 L40,40 Z" fill="none" stroke="%23FFD700" stroke-width="0.5" opacity="0.3"/></svg>'); animation: float 20s linear infinite; }
        @keyframes float { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(-50px, -50px) rotate(360deg); } }
        .hero-content { text-align: center; color: white; z-index: 1; padding: 2rem; animation: fadeInUp 1s ease; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; text-shadow: 3px 3px 6px rgba(0,0,0,0.5); }
        .hero p { font-size: 1.3rem; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto; }
        .btn-primary { display: inline-block; padding: 1rem 2rem; background: var(--accent-color); color: var(--text-dark); text-decoration: none; border-radius: 50px; font-weight: bold; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3); }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4); }

section { padding: 5rem 5%; max-width: 1400px; margin: 0 auto; }
        .section-title { text-align: center; font-size: 2.5rem; color: var(--primary-color); margin-bottom: 1rem; position: relative; display: inline-block; width: 100%; }
        .section-title::after { content: ''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); width: 100px; height: 3px; background: linear-gradient(90deg, transparent, var(--accent-color), transparent); }
        .section-subtitle { text-align: center; color: var(--text-light); margin-bottom: 3rem; font-size: 1.1rem; }

.announcements { background: white; position: relative; }
        .announcements::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 5px; background: repeating-linear-gradient(90deg, var(--accent-color), var(--accent-color) 10px, transparent 10px, transparent 20px); }
        .announcement-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 3rem; }
        .announcement-card { background: var(--bg-light); border-radius: 10px; padding: 2rem; position: relative; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: all 0.3s ease; overflow: hidden; }
        .announcement-card::before { content: ''; position: absolute; top: 0; left: 0; width: 5px; height: 100%; background: var(--secondary-color); }
        .announcement-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        .announcement-date { color: var(--text-light); font-size: 0.9rem; margin-bottom: 0.5rem; }
        .announcement-title { color: var(--primary-color); margin-bottom: 1rem; font-size: 1.3rem; }

.news { background: var(--bg-cream); }
        .news-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; margin-top: 3rem; }
        .news-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: all 0.3s ease; }
        .news-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        .news-image { height: 200px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); position: relative; overflow: hidden; background-size: cover; background-position: center; }
        .news-content { padding: 1.5rem; }
        .news-date { color: var(--text-light); font-size: 0.9rem; margin-bottom: 0.5rem; }
        .news-title { color: var(--primary-color); margin-bottom: 1rem; font-size: 1.3rem; }
        .read-more { color: var(--secondary-color); text-decoration: none; font-weight: bold; transition: color 0.3s ease; }
        .read-more:hover { color: var(--primary-color); }

.user-features, .admin-panel { background: white; display: none; }
        .user-features.active, .admin-panel.active { display: block; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 3rem; }
        .feature-card { background: var(--bg-light); border-radius: 10px; padding: 2rem; text-align: center; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0,0,0,0.1); cursor: pointer; }
        .feature-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        .feature-icon { width: 80px; height: 80px; margin: 0 auto 1rem; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; color: white; }

.admin-tabs { display: flex; margin-bottom: 2rem; border-bottom: 2px solid var(--border-color); }
        .admin-tab { padding: 1rem 2rem; background: none; border: none; cursor: pointer; font-size: 1rem; color: var(--text-light); transition: all 0.3s ease; position: relative; }
        .admin-tab.active { color: var(--primary-color); font-weight: bold; }
        .admin-tab.active::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 100%; height: 2px; background: var(--primary-color); }
        .admin-content { display: none; }
        .admin-content.active { display: block; }
        .admin-form { background: var(--bg-light); padding: 2rem; border-radius: 10px; margin-bottom: 2rem; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: var(--text-dark); font-weight: 500; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 0.8rem; border: 2px solid var(--border-color); border-radius: 5px; font-size: 1rem; transition: all 0.3s ease; background: white; }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus { outline: none; border-color: var(--secondary-color); box-shadow: 0 0 0 3px rgba(210, 105, 30, 0.1); }
        .form-group textarea { resize: vertical; min-height: 120px; }
        .btn-submit { width: 100%; padding: 1rem; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; border: none; border-radius: 5px; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
        .btn-submit:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3); }

.data-table { width: 100%; border-collapse: collapse; margin-top: 2rem; }
        .data-table th, .data-table td { padding: 1rem; text-align: left; border-bottom: 1px solid var(--border-color); }
        .data-table th { background: var(--bg-light); color: var(--primary-color); font-weight: bold; }
        .data-table tr:hover { background: var(--bg-light); }
        .btn-action { padding: 0.5rem 1rem; border: none; border-radius: 5px; cursor: pointer; font-size: 0.9rem; margin-right: 0.5rem; transition: all 0.3s ease; }
        .btn-edit { background: var(--secondary-color); color: white; }
        .btn-delete { background: var(--error-color); color: white; }
        .btn-action:hover { transform: translateY(-2px); box-shadow: 0 3px 10px rgba(0,0,0,0.2); }

.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); overflow: auto; }
        .modal.active { display: flex; align-items: center; justify-content: center; }
        .modal-content { background-color: white; margin: auto; padding: 2rem; border-radius: 10px; width: 80%; max-width: 500px; position: relative; animation: modalopen 0.4s; }
        @keyframes modalopen { from {opacity: 0; transform: translateY(-50px);} to {opacity: 1; transform: translateY(0);} }
        .close { color: var(--text-light); position: absolute; top: 1rem; right: 1.5rem; font-size: 2rem; font-weight: bold; cursor: pointer; }
        .close:hover { color: var(--text-dark); }

.notification { position: fixed; top: 100px; right: 20px; padding: 1rem 2rem; background: var(--success-color); color: white; border-radius: 5px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); z-index: 10000; transform: translateX(120%); transition: transform 0.3s ease; }
        .notification.show { transform: translateX(0); }
        .notification.error { background: var(--error-color); }

footer { background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; padding: 3rem 5% 1rem; }
        .footer-content { max-width: 1400px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 2rem; }
        .footer-section h3 { margin-bottom: 1rem; color: var(--accent-color); }
        .footer-section ul { list-style: none; }
        .footer-section ul li { margin-bottom: 0.5rem; }
        .footer-section a { color: white; text-decoration: none; transition: color 0.3s ease; }
        .footer-section a:hover { color: var(--accent-color); }
        .social-links { display: flex; gap: 1rem; margin-top: 1rem; }
        .social-link { width: 40px; height: 40px; background: rgba(255, 255, 255, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; }
        .social-link:hover { background: var(--accent-color); transform: translateY(-3px); }
        .footer-bottom { text-align: center; padding-top: 2rem; border-top: 1px solid rgba(255, 255, 255, 0.2); margin-top: 2rem; }

.back-to-top { position: fixed; bottom: 30px; right: 30px; width: 50px; height: 50px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; cursor: pointer; opacity: 0; visibility: hidden; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0,0,0,0.3); z-index: 999; }
        .back-to-top.show { opacity: 1; visibility: visible; }
        .back-to-top:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.4); }

.loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-light); display: flex; justify-content: center; align-items: center; z-index: 9999; transition: opacity 0.5s ease; }
        .loader.hidden { opacity: 0; pointer-events: none; }
        .loader-content { text-align: center; }
        .loader-spinner { width: 60px; height: 60px; border: 4px solid var(--border-color); border-top: 4px solid var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

@media (max-width: 768px) {
            .nav-menu { position: fixed; left: -100%; top: 70px; flex-direction: column; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); width: 100%; text-align: center; transition: 0.3s; padding: 2rem 0; }
            .nav-menu.active { left: 0; }
            .hamburger { display: flex; }
            .hamburger.active span:nth-child(2) { opacity: 0; }
            .hamburger.active span:nth-child(1) { transform: translateY(9px) rotate(45deg); }
            .hamburger.active span:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }
            .hero h1 { font-size: 2rem; }
            .hero p { font-size: 1rem; }
            .section-title { font-size: 2rem; }
            .admin-tabs { flex-wrap: wrap; }
            .admin-tab { flex: 1 0 50%; }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loader" id="loader">
        <div class="loader-content">
            <div class="loader-spinner"></div>
            <p style="color: var(--primary-color); font-weight: bold;">Memuatkan...</p>
        </div>
    </div>

<!-- Header -->
    <header id="header">
        <nav>
            <div class="logo-container">
                <img src="https://arleta.site/interactivelink/2950/Logo-YPJN-png.png" alt="YPJN Logo" class="logo">
                <span class="logo-text">YPJN</span>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home">Utama</a></li>
                <li><a href="#announcements">Pengumuman</a></li>
                <li><a href="#news">Berita</a></li>
                <li class="user-only" style="display: none;"><a href="#user-features">Ciri-ciri Pengguna</a></li>
                <li class="admin-only" style="display: none;"><a href="#admin-panel">Admin Panel</a></li>
                <li><a href="#contact">Hubungi</a></li>
            </ul>
            <div class="auth-container" id="authContainer">
                <button class="btn-auth" id="loginBtn">Log Masuk</button>
            </div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

<!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Yayasan Peradaban Jawi Nusantara</h1>
            <p>Memelihara dan membangkitkan kegemilangan tamadun Jawi di Nusantara melalui pendidikan, penulisan dan kebudayaan</p>
            <a href="#announcements" class="btn-primary">Ketahui Lebih Lanjut</a>
        </div>
    </section>

<!-- Announcements Section -->
    <section class="announcements" id="announcements">
        <h2 class="section-title">Pengumuman Terkini</h2>
        <p class="section-subtitle">Maklumat penting dari YPJN</p>
        <div class="announcement-container" id="announcementContainer">
            <!-- Announcements will be loaded here -->
        </div>
    </section>

<!-- News Section -->
    <section class="news" id="news">
        <h2 class="section-title">Berita & Artikel</h2>
        <p class="section-subtitle">Kini terkini dari YPJN</p>
        <div class="news-container" id="newsContainer">
            <!-- News will be loaded here -->
        </div>
    </section>

<!-- User Features Section (Hidden by default) -->
    <section class="user-features" id="user-features">
        <h2 class="section-title">Ciri-ciri Pengguna</h2>
        <p class="section-subtitle">Pautan interaktif untuk pengguna berdaftar</p>
        <div class="features-grid">
            <div class="feature-card" data-link="https://example.com/elearning">
                <div class="feature-icon">üìö</div>
                <h3>E-Learning Jawi</h3>
                <p>Akses ke platform pembelajaran Jawi dalam talian</p>
            </div>
            <div class="feature-card" data-link="https://example.com/resources">
                <div class="feature-icon">üìñ</div>
                <h3>Sumber Pembelajaran</h3>
                <p>Muat turun bahan pembelajaran dan rujukan</p>
            </div>
            <div class="feature-card" data-link="https://example.com/forum">
                <div class="feature-icon">üí¨</div>
                <h3>Forum Komuniti</h3>
                <p>Berinteraksi dengan komuniti pencinta Jawi</p>
            </div>
        </div>
    </section>

<!-- Admin Panel Section (Hidden by default) -->
<section class="admin-panel" id="admin-panel">
    <h2 class="section-title">Admin Panel</h2>
    <p class="section-subtitle">Urus kandungan website YPJN</p>
    
    <div class="admin-tabs">
        <button class="admin-tab active" data-tab="announcements">Pengumuman</button>
        <button class="admin-tab" data-tab="news">Berita</button>
    </div>
    
    <!-- Pengumuman Tab -->
    <div class="admin-content active" id="announcements-tab">
        <div class="admin-form">
            <h3>Tambah Pengumuman Baru</h3>
            <form id="announcementForm">
                <div class="form-group">
                    <label for="announcementTitle">Tajuk</label>
                    <input type="text" id="announcementTitle" required>
                </div>
                <div class="form-group">
                    <label for="announcementContent">Kandungan</label>
                    <textarea id="announcementContent" required></textarea>
                </div>
                <div class="form-group">
                    <label for="announcementStartDate">Tarikh Mula</label>
                    <input type="date" id="announcementStartDate" required>
                </div>
                <div class="form-group">
                    <label for="announcementEndDate">Tarikh Tamat</label>
                    <input type="date" id="announcementEndDate" required>
                </div>
                <div class="form-group">
                    <label for="announcementImage">URL Gambar (Opsional)</label>
                    <input type="text" id="announcementImage" placeholder="https://...">
                </div>
                <div class="form-group">
                    <label for="announcementStatus">Status</label>
                    <select id="announcementStatus" required>
                        <option value="Aktif">Aktif</option>
                        <option value="Tidak Aktif">Tidak Aktif</option>
                    </select>
                </div>
                <button type="submit" class="btn-submit">Tambah Pengumuman</button>
            </form>
        </div>
    </div>

    <!-- Berita Tab -->
    <div class="admin-content" id="news-tab">
        <div class="admin-form">
            <h3>Tambah Berita Baru</h3>
            <form id="newsForm">
                <div class="form-group">
                    <label for="newsTitle">Tajuk</label>
                    <input type="text" id="newsTitle" required>
                </div>
                <div class="form-group">
                    <label for="newsContent">Kandungan</label>
                    <textarea id="newsContent" required></textarea>
                </div>
                <div class="form-group">
                    <label for="newsDate">Tarikh</label>
                    <input type="date" id="newsDate" required>
                </div>
                <div class="form-group">
                    <label for="newsCategory">Kategori</label>
                    <select id="newsCategory" required>
                        <option value="Teknologi">Teknologi</option>
                        <option value="Pendidikan">Pendidikan</option>
                        <option value="Acara">Acara</option>
                        <option value="Sumbangan">Sumbangan</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="newsImage">URL Gambar (Opsional)</label>
                    <input type="text" id="newsImage" placeholder="https://...">
                </div>
                <div class="form-group">
                    <label for="newsAuthor">Penulis</label>
                    <input type="text" id="newsAuthor" required>
                </div>
                <button type="submit" class="btn-submit">Tambah Berita</button>
            </form>
        </div>
    </div>
</section>
    
<!-- Contact Section -->
    <section class="contact" id="contact">
        <h2 class="section-title">Hubungi Kami</h2>
        <p class="section-subtitle">Jangan ragu untuk berhubung dengan kami</p>
        <div class="contact-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 3rem;">
            <div class="contact-info" style="padding: 2rem; background: var(--bg-cream); border-radius: 10px;">
                <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">Maklumat Hubungan</h3>
                <p><strong>Alamat:</strong><br>Kompleks Sumur Bakti, Pusat Kegiatan Ibadah dan Riadah, Sg Tekala, Semenyih, Selangor</p>
                <p style="margin-top: 1rem;"><strong>Telefon:</strong><br>019-0652 5266, 013-207 9409</p>
                <p style="margin-top: 1rem;"><strong>Email:</strong><br>ypjn.info@gmail.com</p>
            </div>
            <div class="contact-form" style="background: var(--bg-light); padding: 2rem; border-radius: 10px;">
                <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">Hantar Mesej</h3>
                <form id="contactForm">
                    <div class="form-group"><label for="name">Nama</label><input type="text" id="name" required></div>
                    <div class="form-group"><label for="email">Email</label><input type="email" id="email" required></div>
                    <div class="form-group"><label for="subject">Subjek</label><input type="text" id="subject" required></div>
                    <div class="form-group"><label for="message">Mesej</label><textarea id="message" required></textarea></div>
                    <button type="submit" class="btn-submit">Hantar</button>
                </form>
            </div>
        </div>
    </section>

<!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Tentang YPJN</h3>
                <p>Yayasan Peradaban Jawi Nusantara komited dalam memelihara dan mempromosikan warisan tulisan Jawi.</p>
            </div>
            <div class="footer-section">
                <h3>Pautan Pantas</h3>
                <ul><li><a href="#announcements">Pengumuman</a></li><li><a href="#news">Berita</a></li></ul>
            </div>
        </div>
        <div class="footer-bottom"><p>¬© 2024 Yayasan Peradaban Jawi Nusantara. Hak Cipta Terpelihara.</p></div>
    </footer>

<!-- Modals -->
    <div id="loginModal" class="modal"><div class="modal-content"><span class="close">√ó</span><h2 style="color: var(--primary-color);">Log Masuk</h2><form id="loginForm"><div class="form-group"><label>Email</label><input type="email" id="loginEmail" required></div><div class="form-group"><label>Kata Laluan</label><input type="password" id="loginPassword" required></div><button type="submit" class="btn-submit">Log Masuk</button></form></div></div>
    <div id="registerModal" class="modal"><div class="modal-content"><span class="close">√ó</span><h2 style="color: var(--primary-color);">Daftar</h2><form id="registerForm"><div class="form-group"><label>Nama</label><input type="text" id="registerName" required></div><div class="form-group"><label>Email</label><input type="email" id="registerEmail" required></div><div class="form-group"><label>Kata Laluan</label><input type="password" id="registerPassword" required></div><button type="submit" class="btn-submit">Daftar</button></form></div></div>

<!-- Notification -->
    <div id="notification" class="notification"></div>

<!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">‚Üë</div>


    
   <script>
    // ===============================================================
    // =           KONFIGURASI - PASTIKAN BETUL!               =
    // ===============================================================
    const SHEET_ID = '17GVmQP5WS6cw_0qYX6Ax7jYCgVsYdhFmC9mE5ORE9MM';
    const API_KEY = 'AIzaSyAnh4_USAic_e2zA50PHKbiLC3JLbuVIYg';
    const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbyb2FDSKwy-ta-iNWk_yuA5bS0quelPvquOCVCIB2ezNZ110eSI2NmyKHXtyzhQeV_1lw/exec'; // << TAMBAHKAN URL WEB APP ANDA DI SINI
    
    const USE_LIVE_API = true; 
    // ===============================================================

    // --- GLOBAL VARIABLES ---
    let currentUser = null;
    let announcements = [];
    let news = [];
    let users = [];

    // --- DOM ELEMENTS ---
    const loader = document.getElementById('loader');
    const loginBtn = document.getElementById('loginBtn');
    const loginModal = document.getElementById('loginModal');
    const registerModal = document.getElementById('registerModal');
    const notification = document.getElementById('notification');
    const announcementContainer = document.getElementById('announcementContainer');
    const newsContainer = document.getElementById('newsContainer');
    const userFeatures = document.getElementById('user-features');
    const adminPanel = document.getElementById('admin-panel');
    const authContainer = document.getElementById('authContainer');
    const navMenu = document.getElementById('navMenu');
    const hamburger = document.getElementById('hamburger');
    const backToTop = document.getElementById('backToTop');

    // --- INITIALIZATION ---
    document.addEventListener('DOMContentLoaded', function() {
        console.log("üöÄ Halaman dimuatkan. Memulakan proses...");
        try {
            checkLoginStatus();
            if (USE_LIVE_API) {
                console.log("üåê Menggunakan API langsung. Memuatkan data...");
                loadAnnouncements();
                loadNews();
                loadUsers();
            } else {
                console.log("üìÇ Menggunakan data contoh (API dimatikan).");
                loadSampleData();
            }
            setupEventListeners();
        } catch (error) {
            console.error("üí• RALAT KRITIKAL:", error);
            showNotification('Terdapat ralat memuatkan halaman. Sila semak console (F12).', 'error');
        } finally {
            setTimeout(() => { loader.classList.add('hidden'); }, 1000);
        }
    });

    // --- DATA LOADING FUNCTIONS ---
    async function loadAnnouncements() {
        console.log(`Memuatkan pengumuman dari Sheet...`);
        try {
            const response = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/Pengumuman!A:G?key=${API_KEY}`);
            if (!response.ok) throw new Error(`Ralat HTTP! Status: ${response.status}`);
            const data = await response.json();
            if (data.values && data.values.length > 1) {
                const headers = data.values[0].map(h => h.toLowerCase().replace(/\s+/g, '_'));
                announcements = data.values.slice(1).map(row => {
                    const obj = {};
                    headers.forEach((header, index) => { obj[header] = row[index] || ''; });
                    return obj;
                });
                displayAnnouncements();
                console.log("‚úÖ Pengumuman berjaya dimuatkan.");
            } else { loadSampleData(); }
        } catch (error) {
            console.error("‚ùå Ralat memuatkan pengumuman:", error);
            showNotification('Gagal memuatkan pengumuman. Menggunakan data contoh.', 'error');
            loadSampleData();
        }
    }

    async function loadNews() {
        console.log(`Memuatkan berita dari Sheet...`);
        try {
            const response = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/Berita!A:G?key=${API_KEY}`);
            if (!response.ok) throw new Error(`Ralat HTTP! Status: ${response.status}`);
            const data = await response.json();
            if (data.values && data.values.length > 1) {
                const headers = data.values[0].map(h => h.toLowerCase().replace(/\s+/g, '_'));
                news = data.values.slice(1).map(row => {
                    const obj = {};
                    headers.forEach((header, index) => { obj[header] = row[index] || ''; });
                    return obj;
                });
                displayNews();
                console.log("‚úÖ Berita berjaya dimuatkan.");
            }
        } catch (error) {
            console.error("‚ùå Ralat memuatkan berita:", error);
            showNotification('Gagal memuatkan berita.', 'error');
        }
    }
    
// Gantikan fungsi loadUsers() yang lama dengan ini
async function loadUsers() {
    // Syarat yang menghalang telah dibuang!
    console.log(`Memuatkan senarai pengguna dari Sheet...`);
    try {
        const response = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/Pengguna!A:F?key=${API_KEY}`);
        if (!response.ok) throw new Error(`Ralat HTTP! Status: ${response.status}`);
        const data = await response.json();
        if (data.values && data.values.length > 1) {
            const headers = data.values[0].map(h => h.toLowerCase().replace(/\s+/g, '_'));
            users = data.values.slice(1).map(row => {
                const obj = {};
                headers.forEach((header, index) => { obj[header] = row[index] || ''; });
                return obj;
            });
            console.log("‚úÖ Senarai pengguna berjaya dimuatkan.", users);
        } else {
            console.warn("Tiada data pengguna dijumpai dalam sheet.");
        }
    } catch (error) {
        console.error("‚ùå Ralat memuatkan senarai pengguna:", error);
        showNotification('Gagal memuatkan senarai pengguna. Log masuk mungkin tidak berfungsi.', 'error');
    }
}

    function loadSampleData() {
        console.log("Memuatkan data contoh...");
        announcements = [{ id: 1, tajuk: 'Pengumuman Contoh', kandungan: 'Ini adalah data contoh.', tarikh_mula: '2025-01-01', tarikh_tamat: '2025-12-31', status: 'Aktif' }];
        news = [{ id: 1, tajuk: 'Berita Contoh', kandungan: 'Versi debug berjaya dipaparkan.', tarikh: '2025-01-01', kategori: 'Teknologi', penulis: 'System' }];
        users = [{ id: 1, nama: 'Admin', email: 'admin@ypjn.org', kata_laluan: 'admin123#', peranan: 'admin', status: 'Aktif' }];
        displayAnnouncements();
        displayNews();
        console.log("‚úÖ Data contoh selesai dimuatkan.");
    }
    
    // Ganti fungsi saveToSheet dengan versi GET ini
async function saveToSheet(sheetName, rowData) {
    console.log(`Menyimpan data ke ${sheetName}...`, rowData);
    try {
        // Tukar array kepada string JSON untuk dihantar sebagai parameter
        const rowDataString = JSON.stringify(rowData);
        
        // Bina URL dengan parameter query
        const url = `${WEB_APP_URL}?sheetName=${encodeURIComponent(sheetName)}&rowData=${encodeURIComponent(rowDataString)}`;
        
        console.log("Menghantar request ke URL:", url);

        const response = await fetch(url, {
            method: 'GET', // Kita menggunakan GET sekarang
        });

        const result = await response.json();
        console.log("Respons dari Web App:", result);

        if (result.status === 'success') {
            showNotification('Data berjaya disimpan!', 'success');
            if (sheetName === 'Pengumuman') {
                loadAnnouncements();
            } else if (sheetName === 'Berita') {
                loadNews();
            }
        } else {
            throw new Error(result.message);
        }
    } catch (error) {
        console.error("‚ùå Ralat menyimpan data:", error);
        showNotification(`Gagal menyimpan data: ${error.message}`, 'error');
    }
}

    // --- UI UPDATES & HANDLERS ---
    function checkLoginStatus() { const user = localStorage.getItem('ypjnUser'); if (user) { currentUser = JSON.parse(user); updateUIForLoggedInUser(); } }
    function updateUIForLoggedInUser() {
        authContainer.innerHTML = `<div class="dropdown"><div class="user-info"><div class="user-avatar">${currentUser.name.charAt(0).toUpperCase()}</div><span>${currentUser.name}</span></div><div class="dropdown-content"><a href="#" id="logoutBtn">Log Keluar</a></div></div>`;
        document.querySelectorAll('.user-only').forEach(item => { item.style.display = 'block'; });
        userFeatures.classList.add('active');
        if (currentUser.role === 'admin') { document.querySelectorAll('.admin-only').forEach(item => { item.style.display = 'block'; }); adminPanel.classList.add('active'); loadUsers(); }
        document.getElementById('logoutBtn').addEventListener('click', handleLogout);
    }
    function displayAnnouncements() {
        const activeAnnouncements = announcements.filter(a => a.status === 'Aktif');
        announcementContainer.innerHTML = activeAnnouncements.map(a => `<div class="announcement-card"><h3>${a.tajuk}</h3><p>${a.kandungan}</p></div>`).join('');
    }
    function displayNews() {
        newsContainer.innerHTML = news.map(n => `<div class="news-card"><div class="news-image" style="background-image: url('${n.gambar_url || 'https://picsum.photos/seed/ypjn/600/400.jpg'}');"></div><div class="news-content"><h3>${n.tajuk}</h3><p>${n.kandungan.substring(0, 100)}...</p></div></div>`).join('');
    }
    function showNotification(message, type = 'success') { notification.textContent = message; notification.className = `notification show ${type === 'error' ? 'error' : ''}`; setTimeout(() => { notification.classList.remove('show'); }, 3000); }

    function setupEventListeners() {
        hamburger.addEventListener('click', () => { hamburger.classList.toggle('active'); navMenu.classList.toggle('active'); });
        document.querySelectorAll('.nav-menu a').forEach(link => { link.addEventListener('click', () => { hamburger.classList.remove('active'); navMenu.classList.remove('active'); }); });
        loginBtn.addEventListener('click', () => { loginModal.classList.add('active'); });
        document.querySelectorAll('.close').forEach(btn => { btn.addEventListener('click', () => { btn.closest('.modal').classList.remove('active'); }); });
        document.getElementById('loginForm').addEventListener('submit', handleLogin);
        document.getElementById('registerForm').addEventListener('submit', handleRegister);
        document.getElementById('contactForm').addEventListener('submit', (e) => { e.preventDefault(); showNotification('Mesej dihantar (contoh)!', 'success'); e.target.reset(); });
        
        // Ganti handler borang admin dengan fungsi simpan sebenar
        document.getElementById('announcementForm').addEventListener('submit', handleAnnouncementSubmit);
        document.getElementById('newsForm').addEventListener('submit', handleNewsSubmit);

        document.querySelectorAll('.admin-tab').forEach(tab => { tab.addEventListener('click', () => { document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active')); tab.classList.add('active'); document.querySelectorAll('.admin-content').forEach(c => c.classList.remove('active')); document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active'); }); });
        document.querySelectorAll('.feature-card').forEach(card => { card.addEventListener('click', () => { showNotification('Pautan akan dibuka (contoh).', 'info'); }); });
        window.addEventListener('scroll', () => { if (window.scrollY > 300) backToTop.classList.add('show'); else backToTop.classList.remove('show'); });
        backToTop.addEventListener('click', () => { window.scrollTo({ top: 0, behavior: 'smooth' }); });
    }

    // --- HANDLERS UNTUK BORANG ADMIN (BARU!) ---
    function handleAnnouncementSubmit(e) {
        e.preventDefault();
        const rowData = [
            '', // ID (akan diisi oleh Apps Script)
            document.getElementById('announcementTitle').value,
            document.getElementById('announcementContent').value,
            document.getElementById('announcementStartDate').value,
            document.getElementById('announcementEndDate').value,
            document.getElementById('announcementImage').value,
            document.getElementById('announcementStatus').value
        ];
        saveToSheet('Pengumuman', rowData);
        e.target.reset(); // Kosongkan borang
    }

    function handleNewsSubmit(e) {
        e.preventDefault();
        const rowData = [
            '', // ID (akan diisi oleh Apps Script)
            document.getElementById('newsTitle').value,
            document.getElementById('newsContent').value,
            document.getElementById('newsDate').value,
            document.getElementById('newsCategory').value,
            document.getElementById('newsImage').value,
            document.getElementById('newsAuthor').value
        ];
        saveToSheet('Berita', rowData);
        e.target.reset(); // Kosongkan borang
    }
    
   // Gantikan fungsi handleLogin() yang lama dengan ini
function handleLogin(e) {
    e.preventDefault();
    
    // Ambil nilai dari borang
    const email = document.getElementById('loginEmail').value.trim(); // .trim() buang jarak kosong
    const password = document.getElementById('loginPassword').value.trim();
    
    // Cetak maklumat yang dimasukkan pengguna ke console
    console.log("--- MENCUBA LOG MASUK ---");
    console.log("Email yang dimasukkan:", `"${email}"`);
    console.log("Kata laluan yang dimasukkan:", `"${password}"`);
    
    // Cetak senarai pengguna yang dimuatkan dari Google Sheets
    console.log("Senarai pengguna dari database:", users);
    
    // Cari pengguna yang sepadan
    const user = users.find(u => u.email === email && u.kata_laluan === password);
    
    console.log("Keputusan carian (user object):", user);
    
    if (user) {
        currentUser = { id: user.id, name: user.nama, email: user.email, role: user.peranan };
        localStorage.setItem('ypjnUser', JSON.stringify(currentUser));
        loginModal.classList.remove('active');
        updateUIForLoggedInUser();
        showNotification('Log masuk berjaya!', 'success');
        console.log("‚úÖ LOG MASUK BERJAYA!");
    } else {
        showNotification('Email atau kata laluan salah.', 'error');
        console.log("‚ùå LOG MASUK GAGAL: Email atau kata laluan tidak sepadan.");
    }
}
    function handleRegister(e) { e.preventDefault(); showNotification('Pendaftaran berjaya! Sila log masuk.', 'success'); registerModal.classList.remove('active'); loginModal.classList.add('active'); }
    function handleLogout() { localStorage.removeItem('ypjnUser'); currentUser = null; location.reload(); }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { e.preventDefault(); const target = document.querySelector(this.getAttribute('href')); if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' }); }); });
</script>
